DROP TABLE member IF EXISTS;
DROP TABLE board IF EXISTS;
DROP TABLE comment IF EXISTS;

DROP TABLE member_user IF EXISTS;
DROP TABLE item IF EXISTS;

/*
DROP SEQUENCE seq_1 IF EXISTS;
DROP SEQUENCE seq_2 IF EXISTS;
*/

CREATE TABLE IF NOT EXISTS member (
	member_id BIGINT AUTO_INCREMENT NOT NULL,
	email VARCHAR(100) NOT NULL,
	username VARCHAR(100) NOT NULL,
	password VARCHAR(200) NOT NULL,
	CONSTRAINT member_member_id_pk PRIMARY KEY(member_id),
	/*
	CONSTRAINT member_email_uk UNIQUE KEY(email),
	CONSTRAINT member_username_uk UNIQUE KEY(username)
	*/
);

CREATE TABLE IF NOT EXISTS board (
	board_id BIGINT AUTO_INCREMENT NOT NULL,
	title VARCHAR(100) NOT NULL,
	content CLOB NOT NULL,
	create_date TIMESTAMP NOT NULL,
	member_id BIGINT NOT NULL,
	CONSTRAINT board_board_id_pk PRIMARY KEY(board_id),
	CONSTRAINT board_member_id_fk FOREIGN KEY(member_id) REFERENCES member(member_id)
);

CREATE TABLE IF NOT EXISTS comment (
	comment_id BIGINT AUTO_INCREMENT NOT NULL,
	content VARCHAR(2000) NOT NULL,
	create_date TIMESTAMP NOT NULL,
	board_id BIGINT NOT NULL,
	CONSTRAINT comment_comment_id_pk PRIMARY KEY(comment_id),
	CONSTRAINT comment_board_id_fk FOREIGN KEY(board_id) REFERENCES board(board_id)
);

CREATE TABLE IF NOT EXISTS member_user (
	id BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	email VARCHAR(100) NOT NULL,
	username VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS item (
	id BIGINT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	title VARCHAR(100) NOT NULL,
	content TEXT NOT NULL
);

/*
SEQUENCE for PK
CREATE SEQUENCE IF NOT EXISTS seq_1 START WITH 5 INCREMENT BY 1;
CREATE SEQUENCE IF NOT EXISTS seq_2 START WITH 1 INCREMENT BY 1;
*/